var abstraction_sdk = (function () {
    'use strict';

    var _class, _temp;

    const LEXICON = {};
    LEXICON.WebMessage = (_temp = _class = class extends Muffin.Lexeme {}, Object.defineProperty(_class, "name", {
      enumerable: true,
      writable: true,
      value: ""
    }), Object.defineProperty(_class, "request_schema", {
      enumerable: true,
      writable: true,
      value: {
        uid: null,
        sender: null,
        params: {},
        subject: null,
        objective: {}
      }
    }), Object.defineProperty(_class, "schema", {
      enumerable: true,
      writable: true,
      value: {
        interface: null,
        token: null,
        request: null,
        subscribe: null
      }
    }), _temp);

    const API_LEXICON = { ...{},
      ...LEXICON
    };
    const config = {
      sandbox_local: {
        hostName: "localhost:8877",
        path: "wsapi",
        channelInstanceSig: 12,
        api_protocol: "ws://"
      },
      sandbox: {
        hostName: "sandbox.autostore-sdk.drona.footloose.io",
        path: "wsapi",
        channelInstanceSig: 12,
        api_protocol: "wss://"
      }
    };
    Muffin.WebRequestSdk = class {
      constructor(options, lazyload = true) {
        console.debug("##ConnectMethod constructor", options);
        this.eventInterface = PostOffice.getOrCreateInterface("WebRequestSdk");
        this.LEXICON = API_LEXICON;
        this.uid = "";
        this.label = options.label || "drona_store_sdk_client";
        this.clientId = options.client_id || "";
        this.token = options.token || "";
        this.pass = "";
        this.connectedStores = [];
        this.uiVars = {
          clock: {},
          config: config[options.label]
        };
        this._connection = null;
        this.state = null;
      }

      async connect() {
        console.debug("##ConnectMethod connect", this.options);
        this.uiVars.eventSubscriptions = new Set([]);
        this.uiVars.eventCounters = {};
        return new Promise((resolve, reject) => {
          var finalUrl = this.uiVars.config.api_protocol + this.uiVars.config.hostName + "/" + this.uiVars.config.path + "/" + this.clientId + "?auth=" + this.token;
          console.debug("imp:", finalUrl);
          console.debug("imp:", this.uiVars.config);
          this._connection = Muffin.PostOffice.addSocket(WebSocket, this.label, finalUrl);
          this._connection.autoRetryOnClose = false;

          this._connection.socket.onerror = e => {
            let msg = `connection failed: ${e.message}`;
            console.debug("imp:", msg);
            this.state = e;
            this.eventInterface.dispatchMessage("error", e);
            return reject({
              state: this.state,
              msg: msg
            });
          };

          this._connection.socket.onopen = e => {
            let msg = `connection established`;
            this.state = e;
            this.eventInterface.dispatchMessage("connect");
            return resolve({
              state: this.state,
              msg: msg
            });
          };

          this._connection.socket.onclose = e => {
            let msg = `connection closed`;
            this.state = e;
            this.eventInterface.dispatchMessage("close", e);
            return reject({
              state: this.state,
              msg: msg
            });
          };

          this._connection.socket.onmessage = e => {
            var _msgStr = e.data;

            try {
              var _msg = JSON.parse(_msgStr);

              console.debug("##on message ", _msg);

              if (_msg.error) {
                this.eventInterface.dispatchMessage("error", _msg);
              } else {
                // this.eventInterface.dispatchMessage("incoming-msg", [_msg]);
                this.eventInterface.dispatchMessage("incoming-msg", _msg);

                if (_msg.op.includes("EVENT:::")) {
                  this.eventInterface.dispatchMessage("incoming-event", _msg);
                } else {
                  this.eventInterface.dispatchMessage("incoming-response", _msg);
                }
              }
            } catch (e) {
              console.debug("## error", e);
              this.eventInterface.dispatchMessage("error", e);
            }
          };
        });
      }

      getSerializableIntro() {
        return Object.keys(this.LEXICON).map(_lexeme => {
          let _schema = this.LEXICON[_lexeme].schema.request || {};

          return {
            label: _lexeme,
            fullName: this.LEXICON[_lexeme].name,
            schema: _schema
          };
        });
      }

      getIntro() {
        return this.LEXICON;
      }

      _getLexeme(_lexemeLabel) {
        console.debug("###lexicon", this.LEXICON);
        return this.LEXICON[_lexemeLabel];
      }

      _inflectLexeme(_lexemeLabel, _msg) {
        if (!_lexemeLabel || !_msg) {
          console.error("Error:", "Invalid Request.");
          return;
        }

        var _selectedLexeme = this._getLexeme(_lexemeLabel);

        if (!_selectedLexeme) {
          console.error("Error:", "Unknown Request.");
          return;
        }

        console.debug("Generating fixtures for lexeme - ", _selectedLexeme);

        if (_msg == "random") {
          try {
            var _selectedLexemeInflection = _selectedLexeme.inflect({});

            _selectedLexemeInflection.genFixtures();
          } catch (e) {
            console.error(e);
            return;
          }
        } else {
          try {
            var _selectedLexemeInflection = _selectedLexeme.inflect(_msg);
          } catch (e) {
            console.error(e);
            return;
          }
        }

        return _selectedLexemeInflection.stringify();
      }

      communicate(_lexemeLabel, _msg) {
        // try{
        // 	JSON.parse(_msg);
        // }catch(e){
        // 	let msg = "invalid json payload";
        // 	console.error("Error:", msg);
        // 	return;
        // }
        let inflection = this._inflectLexeme(_lexemeLabel, _msg);

        if (!inflection) {
          return;
        }

        this.uiVars.clock.testStart = Date.now() / 1000;

        this._connection.send(inflection);
      }

      async request(_lexemeLabel, _msg, _opLabel, options = {
        MAX_RESPONSE_TIME: 5000
      }) {
        return new Promise((resolve, reject) => {
          this.communicate(_lexemeLabel, _msg);

          if (!_opLabel) {
            return resolve({
              message: "Message sent. No resp_op provided."
            });
          }

          this.eventInterface.on("incoming-msg", msg => {
            if (msg.op === _opLabel && msg.result != null) {
              return resolve(msg);
            }
          });
          this.eventInterface.on("incoming-event", msg => {
            if (msg.op === _opLabel && msg.result != null) {
              return resolve(msg);
            }
          });
          this.eventInterface.on("error", msg => {
            return reject(msg);
          });
          setTimeout(() => {
            return reject({
              message: `No response received in ${options.MAX_RESPONSE_TIME / 1000}s`
            });
          }, options.MAX_RESPONSE_TIME);
        });
      }

      _createEventSubscription(_msg) {
        this.uiVars.eventSubscriptions.add(_name);
        this.uiVars.eventCounters[`EVENT:::${_name}`] = 0;
        Muffin.PostOffice.sockets.global.broadcastMsg("subscription-created", _msg);
      }

      _connectHost() {

        this._connection.onerror = e => {
          let msg = `connection failed: ${e.message}`;
          console.log("imp:", msg);
        };

        this._connection.onopen = e => {
        };

        this._connection.onclose = e => {
        };

        this._connection.onmessage = _connectionMsgEv => {
          //custom onmessage functions can be provided by the developer.
          // console.log("imp:", "-------------------------------",_connectionMsgEv);
          var _msgStr = _connectionMsgEv.data;

          if (_msgStr == "response:") {
            return;
          } //ping-pong messages exchanged in keepAlive


          var ev = null;

          try {
            var _msg = JSON.parse(_msgStr);

            if (_msg.op.includes("EVENT:::")) {
              ev = new CustomEvent("incoming-hostagent-event-msg", {
                detail: _msg
              });
            } else {
              ev = new CustomEvent("incoming-hostagent-response-msg", {
                detail: _msg
              });
            }
          } catch (e) {
            //not valid msg
            var _msg = {
              error: e,
              label: `${this.name}-message-error`
            };
            ev = new CustomEvent(_msg.label, {
              detail: _msg
            });
          }

          return ev;
        };

        this._connection.on("incoming-hostagent-response-msg", msg => {
          console.debug("Event:", " incoming-hostagent-response-msg = ", msg); // this.uiVars.hostagentResponseMsgLogEl.appendChild(tableHtml);

          if (msg.op.includes("|||") && msg.statusCode == 2) {
            this._createEventSubscription(msg.op);
          }
        });

        this._connection.on("incoming-hostagent-event-msg", msg => {
          console.debug("Event:", " incoming-hostagent-event-msg = ", msg);
          this.uiVars.eventCounters[msg.op] += 1; // this.uiVars.hostagentResponseMsgLogEl.appendChild(tableHtml);
        });
      }

      onConnect() {}

    };

    return Muffin;

}());
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2RrLmpzIiwic291cmNlcyI6WyIuLi9zcmMvbGV4aWNvbi5qcyIsIi4uL3NyYy9tYWluLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IExFWElDT04gPSB7fTtcblxuTEVYSUNPTi5XZWJNZXNzYWdlID0gY2xhc3MgZXh0ZW5kcyBNdWZmaW4uTGV4ZW1lIHtcbiAgICBzdGF0aWMgbmFtZSA9IFwiXCI7XG5cbiAgICBzdGF0aWMgcmVxdWVzdF9zY2hlbWEgPSB7XG4gICAgICAgIHVpZDogbnVsbCxcbiAgICAgICAgc2VuZGVyOiBudWxsLFxuICAgICAgICBwYXJhbXM6IHt9LFxuICAgICAgICBzdWJqZWN0OiBudWxsLFxuICAgICAgICBvYmplY3RpdmU6IHt9XG4gICAgfVxuXG4gICAgc3RhdGljIHNjaGVtYSA9IHtcbiAgICAgICAgaW50ZXJmYWNlOiBudWxsLFxuICAgICAgICB0b2tlbjogbnVsbCxcbiAgICAgICAgcmVxdWVzdDogbnVsbCxcbiAgICAgICAgc3Vic2NyaWJlOiBudWxsLFxuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgTEVYSUNPTjtcbiIsImltcG9ydCBXRUJfTUVTU0FHRV9MRVhJQ09OIGZyb20gXCIuL2xleGljb25cIjtcbmNvbnN0IEFQSV9MRVhJQ09OID0gey4uLnt9LCAuLi5XRUJfTUVTU0FHRV9MRVhJQ09OfTtcblxuY29uc3QgY29uZmlnID0ge1xuICAgIHNhbmRib3hfbG9jYWw6IHtcbiAgICAgICAgaG9zdE5hbWU6IFwibG9jYWxob3N0Ojg4NzdcIixcbiAgICAgICAgcGF0aDogXCJ3c2FwaVwiLFxuICAgICAgICBjaGFubmVsSW5zdGFuY2VTaWc6IDEyLFxuICAgICAgICBhcGlfcHJvdG9jb2w6IFwid3M6Ly9cIlxuICAgIH0sXG4gICAgc2FuZGJveDoge1xuICAgICAgICBob3N0TmFtZTogXCJzYW5kYm94LmF1dG9zdG9yZS1zZGsuZHJvbmEuZm9vdGxvb3NlLmlvXCIsXG4gICAgICAgIHBhdGg6IFwid3NhcGlcIixcbiAgICAgICAgY2hhbm5lbEluc3RhbmNlU2lnOiAxMixcbiAgICAgICAgYXBpX3Byb3RvY29sOiBcIndzczovL1wiXG4gICAgfVxufVxuXG5cbk11ZmZpbi5XZWJSZXF1ZXN0U2RrID0gY2xhc3Mge1xuXG4gICAgY29uc3RydWN0b3Iob3B0aW9ucywgbGF6eWxvYWQgPSB0cnVlKSB7XG4gICAgICAgIGNvbnNvbGUuZGVidWcoXCIjI0Nvbm5lY3RNZXRob2QgY29uc3RydWN0b3JcIiwgb3B0aW9ucyk7XG4gICAgICAgIHRoaXMuZXZlbnRJbnRlcmZhY2UgPSBQb3N0T2ZmaWNlLmdldE9yQ3JlYXRlSW50ZXJmYWNlKFwiV2ViUmVxdWVzdFNka1wiKVxuICAgICAgICB0aGlzLkxFWElDT04gPSBBUElfTEVYSUNPTjtcbiAgICAgICAgdGhpcy51aWQgPSBcIlwiO1xuICAgICAgICB0aGlzLmxhYmVsID0gb3B0aW9ucy5sYWJlbCB8fCBcImRyb25hX3N0b3JlX3Nka19jbGllbnRcIjtcbiAgICAgICAgdGhpcy5jbGllbnRJZCA9IG9wdGlvbnMuY2xpZW50X2lkIHx8IFwiXCI7XG4gICAgICAgIHRoaXMudG9rZW4gPSBvcHRpb25zLnRva2VuIHx8IFwiXCI7XG4gICAgICAgIHRoaXMucGFzcyA9IFwiXCI7XG4gICAgICAgIHRoaXMuY29ubmVjdGVkU3RvcmVzID0gW107XG4gICAgICAgIHRoaXMudWlWYXJzID0ge1xuICAgICAgICAgICAgY2xvY2s6IHt9LFxuICAgICAgICAgICAgY29uZmlnOiBjb25maWdbb3B0aW9ucy5sYWJlbF1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9jb25uZWN0aW9uID0gbnVsbDtcbiAgICAgICAgdGhpcy5zdGF0ZSA9IG51bGw7XG4gICAgfVxuXG4gICAgYXN5bmMgY29ubmVjdCgpIHtcbiAgICAgICAgY29uc29sZS5kZWJ1ZyhcIiMjQ29ubmVjdE1ldGhvZCBjb25uZWN0XCIsIHRoaXMub3B0aW9ucyk7XG4gICAgICAgIHRoaXMudWlWYXJzLmV2ZW50U3Vic2NyaXB0aW9ucyA9IG5ldyBTZXQoW10pO1xuICAgICAgICB0aGlzLnVpVmFycy5ldmVudENvdW50ZXJzID0ge307XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICB2YXIgZmluYWxVcmwgPSB0aGlzLnVpVmFycy5jb25maWcuYXBpX3Byb3RvY29sICsgdGhpcy51aVZhcnMuY29uZmlnLmhvc3ROYW1lICsgXCIvXCIgKyB0aGlzLnVpVmFycy5jb25maWcucGF0aCArIFwiL1wiICsgdGhpcy5jbGllbnRJZCArIFwiP2F1dGg9XCIgKyB0aGlzLnRva2VuXG4gICAgICAgICAgICBjb25zb2xlLmRlYnVnKFwiaW1wOlwiLCBmaW5hbFVybCk7XG4gICAgICAgICAgICBjb25zb2xlLmRlYnVnKFwiaW1wOlwiLCB0aGlzLnVpVmFycy5jb25maWcpO1xuICAgICAgICAgICAgdGhpcy5fY29ubmVjdGlvbiA9IE11ZmZpbi5Qb3N0T2ZmaWNlLmFkZFNvY2tldChXZWJTb2NrZXQsIHRoaXMubGFiZWwsIGZpbmFsVXJsKTtcbiAgICAgICAgICAgIHRoaXMuX2Nvbm5lY3Rpb24uYXV0b1JldHJ5T25DbG9zZSA9IGZhbHNlO1xuXG4gICAgICAgICAgICB0aGlzLl9jb25uZWN0aW9uLnNvY2tldC5vbmVycm9yID0gKGUpID0+IHtcbiAgICAgICAgICAgICAgICBsZXQgbXNnID0gYGNvbm5lY3Rpb24gZmFpbGVkOiAke2UubWVzc2FnZX1gO1xuICAgICAgICAgICAgICAgIGNvbnNvbGUuZGVidWcoXCJpbXA6XCIsIG1zZyk7XG4gICAgICAgICAgICAgICAgdGhpcy5zdGF0ZSA9IGU7XG4gICAgICAgICAgICAgICAgdGhpcy5ldmVudEludGVyZmFjZS5kaXNwYXRjaE1lc3NhZ2UoXCJlcnJvclwiLCBlKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVqZWN0KHtzdGF0ZTogdGhpcy5zdGF0ZSwgbXNnOiBtc2d9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuX2Nvbm5lY3Rpb24uc29ja2V0Lm9ub3BlbiA9IChlKSA9PiB7XG4gICAgICAgICAgICAgICAgbGV0IG1zZyA9IGBjb25uZWN0aW9uIGVzdGFibGlzaGVkYDtcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXRlID0gZTtcbiAgICAgICAgICAgICAgICB0aGlzLmV2ZW50SW50ZXJmYWNlLmRpc3BhdGNoTWVzc2FnZShcImNvbm5lY3RcIik7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc29sdmUoe3N0YXRlOiB0aGlzLnN0YXRlLCBtc2c6IG1zZ30pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLl9jb25uZWN0aW9uLnNvY2tldC5vbmNsb3NlID0gKGUpID0+IHtcbiAgICAgICAgICAgICAgICBsZXQgbXNnID0gYGNvbm5lY3Rpb24gY2xvc2VkYDtcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXRlID0gZTtcbiAgICAgICAgICAgICAgICB0aGlzLmV2ZW50SW50ZXJmYWNlLmRpc3BhdGNoTWVzc2FnZShcImNsb3NlXCIsIGUpO1xuICAgICAgICAgICAgICAgIHJldHVybiByZWplY3Qoe3N0YXRlOiB0aGlzLnN0YXRlLCBtc2c6IG1zZ30pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLl9jb25uZWN0aW9uLnNvY2tldC5vbm1lc3NhZ2UgPSAoZSkgPT4ge1xuICAgICAgICAgICAgICAgIHZhciBfbXNnU3RyID0gZS5kYXRhO1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBfbXNnID0gSlNPTi5wYXJzZShfbXNnU3RyKVxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmRlYnVnKFwiIyNvbiBtZXNzYWdlIFwiLCBfbXNnKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKF9tc2cuZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZXZlbnRJbnRlcmZhY2UuZGlzcGF0Y2hNZXNzYWdlKFwiZXJyb3JcIiwgX21zZylcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRoaXMuZXZlbnRJbnRlcmZhY2UuZGlzcGF0Y2hNZXNzYWdlKFwiaW5jb21pbmctbXNnXCIsIFtfbXNnXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmV2ZW50SW50ZXJmYWNlLmRpc3BhdGNoTWVzc2FnZShcImluY29taW5nLW1zZ1wiLCBfbXNnKVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKF9tc2cub3AuaW5jbHVkZXMoXCJFVkVOVDo6OlwiKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZXZlbnRJbnRlcmZhY2UuZGlzcGF0Y2hNZXNzYWdlKFwiaW5jb21pbmctZXZlbnRcIiwgX21zZyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZXZlbnRJbnRlcmZhY2UuZGlzcGF0Y2hNZXNzYWdlKFwiaW5jb21pbmctcmVzcG9uc2VcIiwgX21zZyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZGVidWcoXCIjIyBlcnJvclwiLCBlKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5ldmVudEludGVyZmFjZS5kaXNwYXRjaE1lc3NhZ2UoXCJlcnJvclwiLCBlKVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICB9XG5cblxuICAgIGdldFNlcmlhbGl6YWJsZUludHJvKCkge1xuICAgICAgICByZXR1cm4gT2JqZWN0LmtleXModGhpcy5MRVhJQ09OKS5tYXAoKF9sZXhlbWUpID0+IHtcbiAgICAgICAgICAgIGxldCBfc2NoZW1hID0gdGhpcy5MRVhJQ09OW19sZXhlbWVdLnNjaGVtYS5yZXF1ZXN0IHx8IHt9O1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBsYWJlbDogX2xleGVtZSxcbiAgICAgICAgICAgICAgICBmdWxsTmFtZTogdGhpcy5MRVhJQ09OW19sZXhlbWVdLm5hbWUsXG4gICAgICAgICAgICAgICAgc2NoZW1hOiBfc2NoZW1hXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGdldEludHJvKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5MRVhJQ09OO1xuICAgIH1cblxuICAgIF9nZXRMZXhlbWUoX2xleGVtZUxhYmVsKSB7XG4gICAgICAgIGNvbnNvbGUuZGVidWcoXCIjIyNsZXhpY29uXCIsIHRoaXMuTEVYSUNPTik7XG4gICAgICAgIHJldHVybiB0aGlzLkxFWElDT05bX2xleGVtZUxhYmVsXTtcbiAgICB9XG5cbiAgICBfaW5mbGVjdExleGVtZShfbGV4ZW1lTGFiZWwsIF9tc2cpIHtcbiAgICAgICAgaWYgKCFfbGV4ZW1lTGFiZWwgfHwgIV9tc2cpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvcjpcIiwgXCJJbnZhbGlkIFJlcXVlc3QuXCIpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIF9zZWxlY3RlZExleGVtZSA9IHRoaXMuX2dldExleGVtZShfbGV4ZW1lTGFiZWwpO1xuICAgICAgICBpZiAoIV9zZWxlY3RlZExleGVtZSkge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIkVycm9yOlwiLCBcIlVua25vd24gUmVxdWVzdC5cIik7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBjb25zb2xlLmRlYnVnKFwiR2VuZXJhdGluZyBmaXh0dXJlcyBmb3IgbGV4ZW1lIC0gXCIsIF9zZWxlY3RlZExleGVtZSk7XG5cbiAgICAgICAgaWYgKF9tc2cgPT0gXCJyYW5kb21cIikge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICB2YXIgX3NlbGVjdGVkTGV4ZW1lSW5mbGVjdGlvbiA9IF9zZWxlY3RlZExleGVtZS5pbmZsZWN0KHt9KTtcbiAgICAgICAgICAgICAgICBfc2VsZWN0ZWRMZXhlbWVJbmZsZWN0aW9uLmdlbkZpeHR1cmVzKCk7XG4gICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIHZhciBfc2VsZWN0ZWRMZXhlbWVJbmZsZWN0aW9uID0gX3NlbGVjdGVkTGV4ZW1lLmluZmxlY3QoX21zZyk7XG4gICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gX3NlbGVjdGVkTGV4ZW1lSW5mbGVjdGlvbi5zdHJpbmdpZnkoKTtcbiAgICB9XG5cbiAgICBjb21tdW5pY2F0ZShfbGV4ZW1lTGFiZWwsIF9tc2cpIHtcbiAgICAgICAgLy8gdHJ5e1xuICAgICAgICAvLyBcdEpTT04ucGFyc2UoX21zZyk7XG4gICAgICAgIC8vIH1jYXRjaChlKXtcbiAgICAgICAgLy8gXHRsZXQgbXNnID0gXCJpbnZhbGlkIGpzb24gcGF5bG9hZFwiO1xuICAgICAgICAvLyBcdGNvbnNvbGUuZXJyb3IoXCJFcnJvcjpcIiwgbXNnKTtcbiAgICAgICAgLy8gXHRyZXR1cm47XG4gICAgICAgIC8vIH1cbiAgICAgICAgbGV0IGluZmxlY3Rpb24gPSB0aGlzLl9pbmZsZWN0TGV4ZW1lKF9sZXhlbWVMYWJlbCwgX21zZyk7XG4gICAgICAgIGlmICghaW5mbGVjdGlvbikge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMudWlWYXJzLmNsb2NrLnRlc3RTdGFydCA9IERhdGUubm93KCkgLyAxMDAwO1xuICAgICAgICB0aGlzLl9jb25uZWN0aW9uLnNlbmQoaW5mbGVjdGlvbik7XG4gICAgfVxuXG4gICAgYXN5bmMgcmVxdWVzdChfbGV4ZW1lTGFiZWwsIF9tc2csIF9vcExhYmVsLCBvcHRpb25zID0ge01BWF9SRVNQT05TRV9USU1FOiA1MDAwfSkge1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5jb21tdW5pY2F0ZShfbGV4ZW1lTGFiZWwsIF9tc2cpO1xuICAgICAgICAgICAgaWYoIV9vcExhYmVsKXtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzb2x2ZSh7bWVzc2FnZTogXCJNZXNzYWdlIHNlbnQuIE5vIHJlc3Bfb3AgcHJvdmlkZWQuXCJ9KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5ldmVudEludGVyZmFjZS5vbihcImluY29taW5nLW1zZ1wiLCAobXNnKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKG1zZy5vcCA9PT0gX29wTGFiZWwgJiYgbXNnLnJlc3VsdCAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXNvbHZlKG1zZyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHRoaXMuZXZlbnRJbnRlcmZhY2Uub24oXCJpbmNvbWluZy1ldmVudFwiLCAobXNnKT0+e1xuICAgICAgICAgICAgICAgIGlmIChtc2cub3AgPT09IF9vcExhYmVsICYmIG1zZy5yZXN1bHQgIT0gbnVsbCl7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXNvbHZlKG1zZyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIHRoaXMuZXZlbnRJbnRlcmZhY2Uub24oXCJlcnJvclwiLCAobXNnKSA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlamVjdChtc2cpXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgIHJldHVybiByZWplY3Qoe21lc3NhZ2U6YE5vIHJlc3BvbnNlIHJlY2VpdmVkIGluICR7b3B0aW9ucy5NQVhfUkVTUE9OU0VfVElNRSAvIDEwMDB9c2B9KVxuICAgICAgICAgICAgfSwgb3B0aW9ucy5NQVhfUkVTUE9OU0VfVElNRSk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIF9jcmVhdGVFdmVudFN1YnNjcmlwdGlvbihfbXNnKSB7XG4gICAgICAgIHRoaXMudWlWYXJzLmV2ZW50U3Vic2NyaXB0aW9ucy5hZGQoX25hbWUpO1xuICAgICAgICB0aGlzLnVpVmFycy5ldmVudENvdW50ZXJzW2BFVkVOVDo6OiR7X25hbWV9YF0gPSAwO1xuICAgICAgICBNdWZmaW4uUG9zdE9mZmljZS5zb2NrZXRzLmdsb2JhbC5icm9hZGNhc3RNc2coXCJzdWJzY3JpcHRpb24tY3JlYXRlZFwiLCBfbXNnKTtcbiAgICB9XG5cbiAgICBfY29ubmVjdEhvc3QoKSB7XG4gICAgICAgIGxldCBtc2cgPSBgY29ubmVjdGluZyB3aXRoIGFwaSBob3N0YDtcblxuICAgICAgICB0aGlzLl9jb25uZWN0aW9uLm9uZXJyb3IgPSAoZSkgPT4ge1xuICAgICAgICAgICAgbGV0IG1zZyA9IGBjb25uZWN0aW9uIGZhaWxlZDogJHtlLm1lc3NhZ2V9YDtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiaW1wOlwiLCBtc2cpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2Nvbm5lY3Rpb24ub25vcGVuID0gKGUpID0+IHtcbiAgICAgICAgICAgIGxldCBtc2cgPSBgY29ubmVjdGlvbiBlc3RhYmxpc2hlZGA7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9jb25uZWN0aW9uLm9uY2xvc2UgPSAoZSkgPT4ge1xuICAgICAgICAgICAgbGV0IG1zZyA9IGBjb25uZWN0aW9uIGNsb3NlZGA7XG4gICAgICAgIH1cblxuXG4gICAgICAgIHRoaXMuX2Nvbm5lY3Rpb24ub25tZXNzYWdlID0gKF9jb25uZWN0aW9uTXNnRXYpID0+IHsgLy9jdXN0b20gb25tZXNzYWdlIGZ1bmN0aW9ucyBjYW4gYmUgcHJvdmlkZWQgYnkgdGhlIGRldmVsb3Blci5cbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKFwiaW1wOlwiLCBcIi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cIixfY29ubmVjdGlvbk1zZ0V2KTtcbiAgICAgICAgICAgIHZhciBfbXNnU3RyID0gX2Nvbm5lY3Rpb25Nc2dFdi5kYXRhO1xuICAgICAgICAgICAgaWYgKF9tc2dTdHIgPT0gXCJyZXNwb25zZTpcIikge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH0gLy9waW5nLXBvbmcgbWVzc2FnZXMgZXhjaGFuZ2VkIGluIGtlZXBBbGl2ZVxuICAgICAgICAgICAgdmFyIGV2ID0gbnVsbDtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgdmFyIF9tc2cgPSBKU09OLnBhcnNlKF9tc2dTdHIpO1xuICAgICAgICAgICAgICAgIGlmIChfbXNnLm9wLmluY2x1ZGVzKFwiRVZFTlQ6OjpcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgZXYgPSBuZXcgQ3VzdG9tRXZlbnQoXCJpbmNvbWluZy1ob3N0YWdlbnQtZXZlbnQtbXNnXCIsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRldGFpbDogX21zZ1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBldiA9IG5ldyBDdXN0b21FdmVudChcImluY29taW5nLWhvc3RhZ2VudC1yZXNwb25zZS1tc2dcIiwge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGV0YWlsOiBfbXNnXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHsgLy9ub3QgdmFsaWQgbXNnXG4gICAgICAgICAgICAgICAgdmFyIF9tc2cgPSB7ZXJyb3I6IGUsIGxhYmVsOiBgJHt0aGlzLm5hbWV9LW1lc3NhZ2UtZXJyb3JgfVxuICAgICAgICAgICAgICAgIGV2ID0gbmV3IEN1c3RvbUV2ZW50KF9tc2cubGFiZWwsIHtcbiAgICAgICAgICAgICAgICAgICAgZGV0YWlsOiBfbXNnXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZXY7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9jb25uZWN0aW9uLm9uKFwiaW5jb21pbmctaG9zdGFnZW50LXJlc3BvbnNlLW1zZ1wiLCAobXNnKSA9PiB7XG4gICAgICAgICAgICBjb25zb2xlLmRlYnVnKFwiRXZlbnQ6XCIsIFwiIGluY29taW5nLWhvc3RhZ2VudC1yZXNwb25zZS1tc2cgPSBcIiwgbXNnKTtcbiAgICAgICAgICAgIC8vIHRoaXMudWlWYXJzLmhvc3RhZ2VudFJlc3BvbnNlTXNnTG9nRWwuYXBwZW5kQ2hpbGQodGFibGVIdG1sKTtcbiAgICAgICAgICAgIGlmIChtc2cub3AuaW5jbHVkZXMoXCJ8fHxcIikgJiYgbXNnLnN0YXR1c0NvZGUgPT0gMikge1xuICAgICAgICAgICAgICAgIHRoaXMuX2NyZWF0ZUV2ZW50U3Vic2NyaXB0aW9uKG1zZy5vcCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIHRoaXMub24oKVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuXG4gICAgICAgIHRoaXMuX2Nvbm5lY3Rpb24ub24oXCJpbmNvbWluZy1ob3N0YWdlbnQtZXZlbnQtbXNnXCIsIChtc2cpID0+IHtcbiAgICAgICAgICAgIGNvbnNvbGUuZGVidWcoXCJFdmVudDpcIiwgXCIgaW5jb21pbmctaG9zdGFnZW50LWV2ZW50LW1zZyA9IFwiLCBtc2cpO1xuICAgICAgICAgICAgdGhpcy51aVZhcnMuZXZlbnRDb3VudGVyc1ttc2cub3BdICs9IDE7XG4gICAgICAgICAgICAvLyB0aGlzLnVpVmFycy5ob3N0YWdlbnRSZXNwb25zZU1zZ0xvZ0VsLmFwcGVuZENoaWxkKHRhYmxlSHRtbCk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIG9uQ29ubmVjdCgpIHtcblxuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgTXVmZmluO1xuIl0sIm5hbWVzIjpbIkxFWElDT04iLCJXZWJNZXNzYWdlIiwiTXVmZmluIiwiTGV4ZW1lIiwidWlkIiwic2VuZGVyIiwicGFyYW1zIiwic3ViamVjdCIsIm9iamVjdGl2ZSIsImludGVyZmFjZSIsInRva2VuIiwicmVxdWVzdCIsInN1YnNjcmliZSIsIkFQSV9MRVhJQ09OIiwiV0VCX01FU1NBR0VfTEVYSUNPTiIsImNvbmZpZyIsInNhbmRib3hfbG9jYWwiLCJob3N0TmFtZSIsInBhdGgiLCJjaGFubmVsSW5zdGFuY2VTaWciLCJhcGlfcHJvdG9jb2wiLCJzYW5kYm94IiwiV2ViUmVxdWVzdFNkayIsImNvbnN0cnVjdG9yIiwib3B0aW9ucyIsImxhenlsb2FkIiwiY29uc29sZSIsImRlYnVnIiwiZXZlbnRJbnRlcmZhY2UiLCJQb3N0T2ZmaWNlIiwiZ2V0T3JDcmVhdGVJbnRlcmZhY2UiLCJsYWJlbCIsImNsaWVudElkIiwiY2xpZW50X2lkIiwicGFzcyIsImNvbm5lY3RlZFN0b3JlcyIsInVpVmFycyIsImNsb2NrIiwiX2Nvbm5lY3Rpb24iLCJzdGF0ZSIsImNvbm5lY3QiLCJldmVudFN1YnNjcmlwdGlvbnMiLCJTZXQiLCJldmVudENvdW50ZXJzIiwiUHJvbWlzZSIsInJlc29sdmUiLCJyZWplY3QiLCJmaW5hbFVybCIsImFkZFNvY2tldCIsIldlYlNvY2tldCIsImF1dG9SZXRyeU9uQ2xvc2UiLCJzb2NrZXQiLCJvbmVycm9yIiwiZSIsIm1zZyIsIm1lc3NhZ2UiLCJkaXNwYXRjaE1lc3NhZ2UiLCJvbm9wZW4iLCJvbmNsb3NlIiwib25tZXNzYWdlIiwiX21zZ1N0ciIsImRhdGEiLCJfbXNnIiwiSlNPTiIsInBhcnNlIiwiZXJyb3IiLCJvcCIsImluY2x1ZGVzIiwiZ2V0U2VyaWFsaXphYmxlSW50cm8iLCJPYmplY3QiLCJrZXlzIiwibWFwIiwiX2xleGVtZSIsIl9zY2hlbWEiLCJzY2hlbWEiLCJmdWxsTmFtZSIsIm5hbWUiLCJnZXRJbnRybyIsIl9nZXRMZXhlbWUiLCJfbGV4ZW1lTGFiZWwiLCJfaW5mbGVjdExleGVtZSIsIl9zZWxlY3RlZExleGVtZSIsIl9zZWxlY3RlZExleGVtZUluZmxlY3Rpb24iLCJpbmZsZWN0IiwiZ2VuRml4dHVyZXMiLCJzdHJpbmdpZnkiLCJjb21tdW5pY2F0ZSIsImluZmxlY3Rpb24iLCJ0ZXN0U3RhcnQiLCJEYXRlIiwibm93Iiwic2VuZCIsIl9vcExhYmVsIiwiTUFYX1JFU1BPTlNFX1RJTUUiLCJvbiIsInJlc3VsdCIsInNldFRpbWVvdXQiLCJfY3JlYXRlRXZlbnRTdWJzY3JpcHRpb24iLCJhZGQiLCJfbmFtZSIsInNvY2tldHMiLCJnbG9iYWwiLCJicm9hZGNhc3RNc2ciLCJfY29ubmVjdEhvc3QiLCJsb2ciLCJfY29ubmVjdGlvbk1zZ0V2IiwiZXYiLCJDdXN0b21FdmVudCIsImRldGFpbCIsInN0YXR1c0NvZGUiLCJvbkNvbm5lY3QiXSwibWFwcGluZ3MiOiI7Ozs7O0lBQUEsTUFBTUEsT0FBTyxHQUFHLEVBQWhCO0lBRUFBLE9BQU8sQ0FBQ0MsVUFBUixxQkFBcUIsY0FBY0MsTUFBTSxDQUFDQyxNQUFyQixDQUE0QixFQUFqRDtJQUFBO0lBQUE7SUFBQSxTQUNrQjtJQURsQjtJQUFBO0lBQUE7SUFBQSxTQUc0QjtJQUNwQkMsSUFBQUEsR0FBRyxFQUFFLElBRGU7SUFFcEJDLElBQUFBLE1BQU0sRUFBRSxJQUZZO0lBR3BCQyxJQUFBQSxNQUFNLEVBQUUsRUFIWTtJQUlwQkMsSUFBQUEsT0FBTyxFQUFFLElBSlc7SUFLcEJDLElBQUFBLFNBQVMsRUFB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
